generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model MediaWikiRecentChange {
  id        Int      @id @default(autoincrement())
  title     String?  @db.Text
  titleUrl  String?  @db.Text
  comment   String?  @db.Text
  timestamp DateTime @default(now())
  user      String?  @db.Text
  bot       Boolean?
  notifyUrl String?  @db.Text
  fullEdit  String?  @db.Text
  minor     Boolean?
  lengthOld Int?
  lengthNew Int?
  serverUrl String?  @db.Text
}

model ArticleSpike {
  id           Int      @id @default(autoincrement())
  title        String   @db.Text
  startTime    DateTime @default(now())
  lastEditTime DateTime @default(now())
  totalEdits   Int      @default(0)
  totalBytes   Int      @default(0)
  isActive     Boolean  @default(true)
  firstEditId  Int? // Reference to the first edit that triggered the spike
  lastEditId   Int? // Reference to the most recent edit in the spike
}
